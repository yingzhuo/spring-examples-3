<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="examples.mybatis.mapper.UserMapper">    <!-- 所有列 -->    <sql id="columns">        id, name, gender, email_addr    </sql>    <!-- User findById(Long id) -->    <select id="findById" resultType="User">        SELECT        <include refid="columns"/>        FROM        t_user        WHERE        id = #{id}    </select>    <!-- List<User> findByName(@Param("keyword") String keyword, @Param("fuzzy") boolean fuzzy) -->    <select id="examples.mybatis.mapper.UserMapper.findByName" resultType="User">        SELECT        <include refid="columns"/>        FROM        t_user AS u        WHERE        <choose>            <when test="fuzzy == true">                u.name LIKE "%"#{keyword}"%"            </when>            <otherwise>                u.name = #{keyword}            </otherwise>        </choose>    </select>    <!-- List<User> findByIdCollection(@Param("ids") Collection<String> ids) -->    <select id="findByIdCollection" resultType="User">        SELECT        <include refid="columns"/>        FROM        t_user AS u        <if test="ids != null and !ids.isEmpty()">            WHERE            u.id IN            <foreach collection="ids" item="id" open="(" close=")" separator=",">                #{id}            </foreach>        </if>    </select>    <!-- List<User> query(@Param("name") String name, @Param("gender") Gender gender, @Param("emailAddr") String emailAddr) -->    <select id="query" resultType="User">        SELECT        <include refid="columns"/>        FROM        t_user AS u        <trim prefix="where" suffixOverrides="and|or">            <if test="name != null">                u.name = #{name} AND            </if>            <if test="gender != null">                u.gender = #{gender} AND            </if>            <if test="emailAddr != null">                u.email_addr = #{emailAddr} AND            </if>        </trim>    </select></mapper>